# 需求文件

## 簡介

本專案旨在開發一個數位卜卦系統，讓使用者能夠透過程式進行傳統的卜卦占卜。系統將實現易經六十四卦的卜卦功能，使用者可以輸入問題，系統會根據隨機或特定的卜卦方法生成卦象，並提供卦辭、爻辭的解釋。

## 需求

### 需求 1：卜卦功能

**使用者故事：** 作為一個使用者，我想要能夠進行卜卦，以便獲得對我問題的指引。

#### 驗收標準

1. WHEN 使用者啟動卜卦程序 THEN 系統 SHALL 提供輸入問題的介面
2. WHEN 使用者輸入問題並確認 THEN 系統 SHALL 生成一個六爻卦象
3. WHEN 卦象生成完成 THEN 系統 SHALL 顯示完整的卦象圖形（包含六個爻的陰陽）
4. WHEN 卦象顯示後 THEN 系統 SHALL 識別並顯示對應的卦名（六十四卦之一）

### 需求 2：卦象生成方法

**使用者故事：** 作為一個使用者，我想要系統使用合理的隨機方法生成卦象，以確保卜卦的公正性。

#### 驗收標準

1. WHEN 系統生成卦象 THEN 系統 SHALL 使用隨機數生成器決定每一爻的陰陽
2. WHEN 生成每一爻 THEN 系統 SHALL 支援老陰、少陰、老陽、少陽四種狀態
3. WHEN 出現老陰或老陽 THEN 系統 SHALL 標記該爻為變爻
4. IF 卦象中存在變爻 THEN 系統 SHALL 生成本卦和之卦（變卦）

### 需求 3：卦辭解釋

**使用者故事：** 作為一個使用者，我想要看到卦象的解釋，以便理解卜卦的含義。

#### 驗收標準

1. WHEN 卦象確定後 THEN 系統 SHALL 顯示該卦的卦辭
2. WHEN 卦象確定後 THEN 系統 SHALL 顯示該卦的卦名和卦象組成（上卦、下卦）
3. IF 存在變爻 THEN 系統 SHALL 顯示對應變爻的爻辭
4. IF 存在之卦 THEN 系統 SHALL 顯示之卦的卦名和卦辭

### 需求 4：卦象資料庫

**使用者故事：** 作為系統，我需要完整的六十四卦資料，以便提供準確的卦象解釋。

#### 驗收標準

1. WHEN 系統初始化 THEN 系統 SHALL 載入包含六十四卦完整資訊的資料
2. WHEN 查詢卦象 THEN 系統 SHALL 能夠根據六爻的陰陽組合快速找到對應的卦
3. WHEN 存取卦象資料 THEN 資料 SHALL 包含卦名、卦辭、六個爻辭、卦象組成
4. WHEN 存取卦象資料 THEN 資料 SHALL 使用繁體中文呈現

### 需求 5：使用者介面

**使用者故事：** 作為一個使用者，我想要有清晰易用的介面，以便輕鬆進行卜卦。

#### 驗收標準

1. WHEN 使用者開啟程式 THEN 系統 SHALL 顯示歡迎訊息和操作說明
2. WHEN 顯示卦象 THEN 系統 SHALL 使用視覺化的方式呈現六爻（例如：⚋ 代表陽爻，⚊ 代表陰爻）
3. WHEN 顯示結果 THEN 系統 SHALL 以結構化的方式呈現卦名、卦辭、爻辭
4. WHEN 卜卦完成 THEN 系統 SHALL 提供選項讓使用者進行新的卜卦或退出程式

### 需求 6：卜卦歷史記錄

**使用者故事：** 作為一個使用者，我想要能夠查看過去的卜卦記錄，以便回顧之前的占卜結果。

#### 驗收標準

1. WHEN 使用者完成一次卜卦 THEN 系統 SHALL 儲存該次卜卦的問題、時間、卦象和結果
2. WHEN 使用者請求查看歷史 THEN 系統 SHALL 顯示過去的卜卦記錄列表
3. WHEN 顯示歷史記錄 THEN 每筆記錄 SHALL 包含日期時間、問題摘要、卦名
4. WHEN 使用者選擇某筆歷史記錄 THEN 系統 SHALL 顯示該次卜卦的完整詳細資訊
